### 🔍 이 장의 keyword!

> 블록문, 조건문, 반복문, 무한루프, 폴스루, 레이블 문, break문, continue문

## 목차

1. [블록문](#81-블록문)
2. [조건문](#82-조건문)
3. [반복문](#83-반복문)
4. [break문](#84-break문)
5. [continue문](#85-continue문)

## 제어문?

조건에 따라 코드 블록을 실행(조건문) 혹은 반복 실행(반복문)할 때 사용

일반적으로 위→아래 방향의 순차적 실행의 코드 흐름을 제어문을 통해 인위적으로 제어 가능

but, 코드 흐름을 이해하기 어렵게 만들어 가독성을 해치는 단점 존재 → 오류 발생의 원인! 제어문의 올바른 이해가 중요하다.

# 8.1 블록문

0개 이상의 문을 중괄호로 묶은 것 ⇒ 코드 블록 or 블록이라고도 부른다.

JS는 블록문을 하나의 실행 단위로 취급 → 단독 사용도 가능하나, 일반적으로 제어문 or 함수 정의 시 사용

블록문은 언제나 자체 종결성을 갖기에 블록문의 끝엔 세미콜론 붙이기 ❌!!

```jsx
// 1. 블록문
{
  var foo = 7;
}

// 2. 제어문
var x = 1;
if (x < 10) {
  x++;
}

// 3. 함수 선언문
function sum(a, b) {
  return a + b;
}
```

# 8.2 조건문

주어진 조건식의 평가 결과에 따라 코드 블록의 실행 결정 (조건식: 불리언 값으로 평가될 수 있는 표현식)

JS에서 제공하는 두 가지 조건문: if…else문, switch문

## 8.2.1 if…else문

주어진 조건식의 평가 결과, 논리적 참 또는 거짓에 따라 실행 코드 블록 결정

조건식 평가 결과 true인 경우 → if문 코드 블록 실행 , false인 경우 → else문 코드 블록 실행

만약 조건식이 불리언 값이 아닌 값으로 평가된다면? JS 엔진에 의해 **암묵적으로 불리언 값으로 강제 변환** 후 실행 코드 블록 결정

### eles if문

조건식을 추가해 조건에 따라 실행될 코드 블록을 추가하고 싶을 때 사용

else if와 else문은 옵션이며 else if문은 여러 번 사용 가능하다.

```jsx
if (조건식1) { // 조건식 1이 참인 경우 실행 }
else if (조건식2) { // 조건식 2가 참인 경우 실행 }
else { // 조건식1과 조건식2가 모두 거짓인 경우 실행 }
```

### 그 외 if…else문의 특징

1. 코드 블록 내 문이 하나뿐이라면 중괄호 생략 가능

   ```jsx
   if (조건식) // 조건식이 참인 경우 실행되는 문 1개
   else // 조건식이 거짓인 경우 실행되는 문 1개
   ```

2. 대부분의 if…else문은 삼항 조건 연산자로 변경 가능
   - 다만 if…else문은 값처럼 사용할 수 없음을 유의!(표현식이 아닌 문이다.)
   - 단순히 값을 결정해 변수에 할당하는 경우에 삼항 조건 연산자를 사용하면 가독성 ↑
   - 조건에 따라 실행 할 내용이 여러 줄로 복잡하다면 if…else문 사용하는 편이 가독성 ↑

```jsx
var x = 2;
var result;

if (x % 2) result = '홀수';
else result = '짝수';

---

var x = 2;

var result = x % 2 ? '홀수' : '짝수';
```

1. 경우의 수가 세가지인 경우 삼항 조건 연산자 사용법

```jsx
var num = 3;

var kind = num ? (num > 0 ? '양수' : '음수') : '영';
```

## 8.2.2 switch문

주어진 표현식 평가해 그 값과 일치하는 표현식을 갖는 case문으로 실행 흐름을 옮긴다.

case문은 상황을 의미하는 표현식을 지정한 후 콜론으로 마친다. `case 상황표현식:`

그 후 해당 상황에서 실행할 문들을 뒤에 위치시킨다.

default문: switch문의 표현식과 일치하는 case문이 없는 경우 실행 (선택사항)

```jsx
switch (표현식) {
	case 표현식1:
		switch문의 표현식과 표현식1이 일치하면 실행될 문;
		break;
	case 표현식2:
		switch문의 표현식과 표현식2가 일치하면 실행될 문;
		break;
	default:
		switch문의 표현식과 일치하는 case 문이 없을 때 실행될 문;
}
```

### if…else문과의 차이

- if…else문
  - 조건식이 불리언 값으로 평가되어야 함 → 논리적 참, 거짓으로 실행 코드 블록을 결정
- switch문
  - 표현식이 불리언 값보단 문자열 or 숫자 값인 경우가 많다. → 논리적 참, 거짓보단 다양한 case에 따라 실행 코드 블록 결정
  - case, default, break 등 다양한 키워드 사용 필요 + 폴스루 발생 가능성 존재 ⇒ 문법 복잡

⇒ if…else문으로 해결 가능할 땐, switch보다 if…else문 사용을 지향하자.
그러나 조건이 너무 많아 switch문 사용 시 가독성이 더 향상된다면 switch문을 사용하자.

### fall through(폴스루)

switch문의 표현식 평가 결과와 일치하는 case문으로 실행 흐름이 이동해 문을 실행한 후,
**switch문을 탈출하지 않고 switch문이 끝날 때 or break문을 만날 때까지 이후의 모든 문을 실행하는 것** ⇒ **_case문에서 break문을 생략한 것_**

⚠️ 의도한 대로 switch문을 사용하기 위해선 case문의 마지막에 break 문을 사용해줄 것!

🙌 이런 폴스루를 의도하여 유용하게 사용하는 경우도 있다.

```jsx
// 윤년 판별 후 2월의 일수를 계산하는 에제
var year = 2000;
var month = 2;
var days = 0;

switch (month) {
  case 1:
  case 3:
  case 5:
  case 7:
  case 8:
  case 10:
  case 12:
    days = 31;
    break;
  case 4:
  case 6:
  case 9:
  case 11:
    days = 30;
    break;
  case 2:
    days = (year % 4 === 0 && year % 100 !== 0) || !(year % 400) ? 29 : 28;
    break;
  default:
    console.log('Invalid month');
}

console.log(days); // 2000년은 윤년이므로 29가 출력됨
```

# 8.3 반복문

조건식의 평가 결과가 참인 경우 코드 블록 실행 → 그 후 조건식 재평가해 여전히 참인 경우 코드 블록 재실행 (조건식이 거짓일 때까지 반복)

### JS의 3가지 반복문

for문, while문, do…while문

+) 반복문을 대체할 수 있는 다양한 기능: forEach(), for…in 문, for … of 문

## 8.3.1 for문

조건식이 거짓으로 평가될 때까지 코드 블록 반복 실행

```jsx
for (변수 선언문 or 할당문; 조건식; 증감식) {
	조건식이 참인 경우 반복 실행될 문;
}
```

for문 사용 시 i 변수를 자주 사용하는 이유는 반복을 의미하는 iteration을 뜻하기 때문!

for문의 변수 선언문, 조건식, 증감식은 모두 옵션 → 반드시 사용 X but, 어떤 식도 선언하지 않을 경우 무한루프 발생 `for (;;) {...}`

중첩 for 문: for문 안에 for문을 중첩해 사용!

## 8.3.2 while문

주어진 조건식의 평가 결과가 참이면 코드 블록을 계속 반복 실행

조건문의 평가 결과가 거짓이 될 때 코드 블록의 실행을 종료

여기서도 조건식의 평가 결과가 불리언 값이 아니라면 불리언 값으로 강제 변환해 논리적 참, 거짓 구별

```jsx
while (조건식) {
  // 조건식이 참인 경우 반복 실행하는 블록
}
```

### for문과의 차이

- for문: 반복 횟수 명확할 때
- while문: 반복 횟수 불명확할 때

### 무한루프

조건식의 평가 결과가 언제나 참이면 무한루프 발생

`while (true) {...}`

무한루프 탈출 조건: 코드 블록 내 if문으로 탈출 조건 생성 후 break문으로 코드 블록 탈출!!

## 8.3.3 do…while문

코드 블록 선 실행 후 조건식 평가 ⇒ 코드 블록이 무조건 한 번 이상은 실행

```jsx
do {
  // 최소 한 번은 실행되는 코드 블록 + 조건식이 참일 때 반복 실행
} while (조건식);
```

# 8.4 break문

코드 블록을 탈출하는 역할 ⇒ 레이블 문, 반복문 or switch문의 코드 블록을 탈출! 이 경우를 제외한 곳에서 break 사용 시 에러 발생(Syntax Error)

반복문을 더이상 진행 할 필요가 없을 때 → 불필요한 반복 회피 역할로 유용!

## 레이블 문?

식별자가 붙은 문 → 프로그램 실행 순서 제어에 사용 `식별자: console.log('lable');` or `식별자: {...}`

ex) switch문의 case문과 default문

레이블 문 탈출 시 break 문에 레이블 식별자를 지정 `break 레이블식별자;`

중첩 for문에서 내부 for문 break 시 **외부 for문을 탈출할 때 유용하게 사용 가**능하다.

```jsx
outer: for (var i = 0; i < 3; i += 1) {
  for (var j = 0; j < 3; j += 1) {
    // i + j가 3이 될 때, outer라는 식별자가 붙은 레이블 for문을 탈출한다.
    if (i + j === 3) break outer;
    console.log(`inner [${i}, ${j}]`);
  }
}

console.log('Done!');
```

그러나 **이 경우 말고는 권장 X** → why? 프로그램 흐름이 복잡해져 가독성 저하 및 오류 발생 가능성 상승

### switch문에서의 break

이 경우에는 레이블문 형식이지만 break문에 레이블 식별자 지정X

`case 표현식: break;` 형태로 사용된다.

# 8.5 continue문

반복문의 코드 블록 실행을 현 지점에서 중단 후 반복문의 증감식으로 실행의 흐름 이동 역할

break문처럼 반복문 탈출 X 실행 흐름만 전환한다.

if문 내에서 실행해야 할 코드가 길다면 들여쓰기 단계가 하나 더 깊어지게 된다. ⇒ 가독성 향상을 위해 반대의 조건식을 이용해 `continue`문을 사용하면 가독성 향상에 도움이 된다.

```jsx
// continue문 사용 X
for (var i = 0; i < string.length; i+=1_ {
	if (string[i] === search) {
		count +=1;
		// code
	}
}

// continue문 사용 -> if문 안에 여러 코드 작성 필요 X
for (var i = 0; i < string.length; i+=1_ {
	if (string[i] !== search) continue; // 이 조건에 부합하지 않는 경우만 아래 코드 실행

	count+=1;
	// code
}
```
